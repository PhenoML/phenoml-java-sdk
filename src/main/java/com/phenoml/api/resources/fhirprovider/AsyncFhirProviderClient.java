/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.phenoml.api.resources.fhirprovider;

import com.phenoml.api.core.ClientOptions;
import com.phenoml.api.core.RequestOptions;
import com.phenoml.api.resources.fhirprovider.requests.FhirProviderAddAuthConfigRequest;
import com.phenoml.api.resources.fhirprovider.requests.FhirProviderCreateRequest;
import com.phenoml.api.resources.fhirprovider.requests.FhirProviderRemoveAuthConfigRequest;
import com.phenoml.api.resources.fhirprovider.requests.FhirProviderSetActiveAuthConfigRequest;
import com.phenoml.api.resources.fhirprovider.types.FhirProviderDeleteResponse;
import com.phenoml.api.resources.fhirprovider.types.FhirProviderListResponse;
import com.phenoml.api.resources.fhirprovider.types.FhirProviderRemoveAuthConfigResponse;
import com.phenoml.api.resources.fhirprovider.types.FhirProviderResponse;
import java.lang.String;
import java.util.concurrent.CompletableFuture;

public class AsyncFhirProviderClient {
  protected final ClientOptions clientOptions;

  private final AsyncRawFhirProviderClient rawClient;

  public AsyncFhirProviderClient(ClientOptions clientOptions) {
    this.clientOptions = clientOptions;
    this.rawClient = new AsyncRawFhirProviderClient(clientOptions);
  }

  /**
   * Get responses with HTTP metadata like headers
   */
  public AsyncRawFhirProviderClient withRawResponse() {
    return this.rawClient;
  }

  /**
   * Creates a new FHIR provider configuration with authentication credentials.
   * <p>Note: The &quot;sandbox&quot; provider type cannot be created via this API - it is managed internally.</p>
   */
  public CompletableFuture<FhirProviderResponse> create(FhirProviderCreateRequest request) {
    return this.rawClient.create(request).thenApply(response -> response.body());
  }

  /**
   * Creates a new FHIR provider configuration with authentication credentials.
   * <p>Note: The &quot;sandbox&quot; provider type cannot be created via this API - it is managed internally.</p>
   */
  public CompletableFuture<FhirProviderResponse> create(FhirProviderCreateRequest request,
      RequestOptions requestOptions) {
    return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Retrieves a list of all active FHIR providers for the authenticated user.
   * <p>On shared instances, only sandbox providers are returned.
   * Sandbox providers return FhirProviderSandboxInfo.</p>
   */
  public CompletableFuture<FhirProviderListResponse> list() {
    return this.rawClient.list().thenApply(response -> response.body());
  }

  /**
   * Retrieves a list of all active FHIR providers for the authenticated user.
   * <p>On shared instances, only sandbox providers are returned.
   * Sandbox providers return FhirProviderSandboxInfo.</p>
   */
  public CompletableFuture<FhirProviderListResponse> list(RequestOptions requestOptions) {
    return this.rawClient.list(requestOptions).thenApply(response -> response.body());
  }

  /**
   * Retrieves a specific FHIR provider configuration by its ID.
   * <p>Sandbox providers return FhirProviderSandboxInfo.
   * On shared instances, only sandbox providers can be accessed.</p>
   */
  public CompletableFuture<FhirProviderResponse> get(String fhirProviderId) {
    return this.rawClient.get(fhirProviderId).thenApply(response -> response.body());
  }

  /**
   * Retrieves a specific FHIR provider configuration by its ID.
   * <p>Sandbox providers return FhirProviderSandboxInfo.
   * On shared instances, only sandbox providers can be accessed.</p>
   */
  public CompletableFuture<FhirProviderResponse> get(String fhirProviderId,
      RequestOptions requestOptions) {
    return this.rawClient.get(fhirProviderId, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Soft deletes a FHIR provider by setting is_active to false.
   * <p>Note: Sandbox providers cannot be deleted.</p>
   */
  public CompletableFuture<FhirProviderDeleteResponse> delete(String fhirProviderId) {
    return this.rawClient.delete(fhirProviderId).thenApply(response -> response.body());
  }

  /**
   * Soft deletes a FHIR provider by setting is_active to false.
   * <p>Note: Sandbox providers cannot be deleted.</p>
   */
  public CompletableFuture<FhirProviderDeleteResponse> delete(String fhirProviderId,
      RequestOptions requestOptions) {
    return this.rawClient.delete(fhirProviderId, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Adds a new authentication configuration to an existing FHIR provider.
   * This enables key rotation and multiple auth configurations per provider.
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderResponse> addAuthConfig(String fhirProviderId,
      FhirProviderAddAuthConfigRequest request) {
    return this.rawClient.addAuthConfig(fhirProviderId, request).thenApply(response -> response.body());
  }

  /**
   * Adds a new authentication configuration to an existing FHIR provider.
   * This enables key rotation and multiple auth configurations per provider.
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderResponse> addAuthConfig(String fhirProviderId,
      FhirProviderAddAuthConfigRequest request, RequestOptions requestOptions) {
    return this.rawClient.addAuthConfig(fhirProviderId, request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Sets which authentication configuration should be active for a FHIR provider.
   * Only one auth config can be active at a time.
   * <p>If the specified auth config is already active, the request succeeds without
   * making any changes and returns a message indicating the config is already active.</p>
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderResponse> setActiveAuthConfig(String fhirProviderId,
      FhirProviderSetActiveAuthConfigRequest request) {
    return this.rawClient.setActiveAuthConfig(fhirProviderId, request).thenApply(response -> response.body());
  }

  /**
   * Sets which authentication configuration should be active for a FHIR provider.
   * Only one auth config can be active at a time.
   * <p>If the specified auth config is already active, the request succeeds without
   * making any changes and returns a message indicating the config is already active.</p>
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderResponse> setActiveAuthConfig(String fhirProviderId,
      FhirProviderSetActiveAuthConfigRequest request, RequestOptions requestOptions) {
    return this.rawClient.setActiveAuthConfig(fhirProviderId, request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Removes an authentication configuration from a FHIR provider.
   * Cannot remove the currently active auth configuration.
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderRemoveAuthConfigResponse> removeAuthConfig(
      String fhirProviderId, FhirProviderRemoveAuthConfigRequest request) {
    return this.rawClient.removeAuthConfig(fhirProviderId, request).thenApply(response -> response.body());
  }

  /**
   * Removes an authentication configuration from a FHIR provider.
   * Cannot remove the currently active auth configuration.
   * <p>Note: Sandbox providers cannot be modified.</p>
   */
  public CompletableFuture<FhirProviderRemoveAuthConfigResponse> removeAuthConfig(
      String fhirProviderId, FhirProviderRemoveAuthConfigRequest request,
      RequestOptions requestOptions) {
    return this.rawClient.removeAuthConfig(fhirProviderId, request, requestOptions).thenApply(response -> response.body());
  }
}
