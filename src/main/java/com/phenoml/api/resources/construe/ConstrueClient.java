/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.phenoml.api.resources.construe;

import com.phenoml.api.core.ClientOptions;
import com.phenoml.api.core.RequestOptions;
import com.phenoml.api.resources.construe.requests.ExtractRequest;
import com.phenoml.api.resources.construe.requests.UploadRequest;
import com.phenoml.api.resources.construe.types.ConstrueUploadCodeSystemResponse;
import com.phenoml.api.resources.construe.types.ExtractCodesResult;

public class ConstrueClient {
    protected final ClientOptions clientOptions;

    private final RawConstrueClient rawClient;

    public ConstrueClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawConstrueClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawConstrueClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Upload a custom medical code system with codes and descriptions for use in code extraction.
     * Upon upload, construe generates embeddings for all of the codes in the code system and stores them in the vector database so you can
     * subsequently use the code system for construe/extract and lang2fhir/create (coming soon!)
     */
    public ConstrueUploadCodeSystemResponse uploadCodeSystem(UploadRequest request) {
        return this.rawClient.uploadCodeSystem(request).body();
    }

    /**
     * Upload a custom medical code system with codes and descriptions for use in code extraction.
     * Upon upload, construe generates embeddings for all of the codes in the code system and stores them in the vector database so you can
     * subsequently use the code system for construe/extract and lang2fhir/create (coming soon!)
     */
    public ConstrueUploadCodeSystemResponse uploadCodeSystem(UploadRequest request, RequestOptions requestOptions) {
        return this.rawClient.uploadCodeSystem(request, requestOptions).body();
    }

    /**
     * Converts natural language text into structured medical codes
     */
    public ExtractCodesResult extractCodes(ExtractRequest request) {
        return this.rawClient.extractCodes(request).body();
    }

    /**
     * Converts natural language text into structured medical codes
     */
    public ExtractCodesResult extractCodes(ExtractRequest request, RequestOptions requestOptions) {
        return this.rawClient.extractCodes(request, requestOptions).body();
    }
}
