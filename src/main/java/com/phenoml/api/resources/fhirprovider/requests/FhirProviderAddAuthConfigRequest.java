/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.phenoml.api.resources.fhirprovider.requests;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.phenoml.api.core.ObjectMappers;
import com.phenoml.api.resources.fhirprovider.types.AuthMethod;
import com.phenoml.api.resources.fhirprovider.types.Role;
import com.phenoml.api.resources.fhirprovider.types.ServiceAccountKey;
import java.lang.Object;
import java.lang.String;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(
    builder = FhirProviderAddAuthConfigRequest.Builder.class
)
public final class FhirProviderAddAuthConfigRequest {
  private final AuthMethod authMethod;

  private final Optional<String> clientSecret;

  private final Optional<ServiceAccountKey> serviceAccountKey;

  private final Optional<OffsetDateTime> credentialExpiry;

  private final Optional<Role> role;

  private final Optional<String> scopes;

  private final Map<String, Object> additionalProperties;

  private FhirProviderAddAuthConfigRequest(AuthMethod authMethod, Optional<String> clientSecret,
      Optional<ServiceAccountKey> serviceAccountKey, Optional<OffsetDateTime> credentialExpiry,
      Optional<Role> role, Optional<String> scopes, Map<String, Object> additionalProperties) {
    this.authMethod = authMethod;
    this.clientSecret = clientSecret;
    this.serviceAccountKey = serviceAccountKey;
    this.credentialExpiry = credentialExpiry;
    this.role = role;
    this.scopes = scopes;
    this.additionalProperties = additionalProperties;
  }

  @JsonProperty("auth_method")
  public AuthMethod getAuthMethod() {
    return authMethod;
  }

  /**
   * @return OAuth client secret (required for client_secret and on_behalf_of auth methods)
   */
  @JsonProperty("client_secret")
  public Optional<String> getClientSecret() {
    return clientSecret;
  }

  @JsonProperty("service_account_key")
  public Optional<ServiceAccountKey> getServiceAccountKey() {
    return serviceAccountKey;
  }

  /**
   * @return Expiry time for JWT credentials (only applicable for JWT auth method)
   */
  @JsonProperty("credential_expiry")
  public Optional<OffsetDateTime> getCredentialExpiry() {
    return credentialExpiry;
  }

  @JsonProperty("role")
  public Optional<Role> getRole() {
    return role;
  }

  /**
   * @return OAuth scopes to request. Cannot be specified with role. If neither role nor scopes are specified, the provider-specific default role will be used. You are solely responsible for ensuring the scopes are valid options for the provider being created or updated.
   */
  @JsonProperty("scopes")
  public Optional<String> getScopes() {
    return scopes;
  }

  @java.lang.Override
  public boolean equals(Object other) {
    if (this == other) return true;
    return other instanceof FhirProviderAddAuthConfigRequest && equalTo((FhirProviderAddAuthConfigRequest) other);
  }

  @JsonAnyGetter
  public Map<String, Object> getAdditionalProperties() {
    return this.additionalProperties;
  }

  private boolean equalTo(FhirProviderAddAuthConfigRequest other) {
    return authMethod.equals(other.authMethod) && clientSecret.equals(other.clientSecret) && serviceAccountKey.equals(other.serviceAccountKey) && credentialExpiry.equals(other.credentialExpiry) && role.equals(other.role) && scopes.equals(other.scopes);
  }

  @java.lang.Override
  public int hashCode() {
    return Objects.hash(this.authMethod, this.clientSecret, this.serviceAccountKey, this.credentialExpiry, this.role, this.scopes);
  }

  @java.lang.Override
  public String toString() {
    return ObjectMappers.stringify(this);
  }

  public static AuthMethodStage builder() {
    return new Builder();
  }

  public interface AuthMethodStage {
    _FinalStage authMethod(@NotNull AuthMethod authMethod);

    Builder from(FhirProviderAddAuthConfigRequest other);
  }

  public interface _FinalStage {
    FhirProviderAddAuthConfigRequest build();

    /**
     * <p>OAuth client secret (required for client_secret and on_behalf_of auth methods)</p>
     */
    _FinalStage clientSecret(Optional<String> clientSecret);

    _FinalStage clientSecret(String clientSecret);

    _FinalStage serviceAccountKey(Optional<ServiceAccountKey> serviceAccountKey);

    _FinalStage serviceAccountKey(ServiceAccountKey serviceAccountKey);

    /**
     * <p>Expiry time for JWT credentials (only applicable for JWT auth method)</p>
     */
    _FinalStage credentialExpiry(Optional<OffsetDateTime> credentialExpiry);

    _FinalStage credentialExpiry(OffsetDateTime credentialExpiry);

    _FinalStage role(Optional<Role> role);

    _FinalStage role(Role role);

    /**
     * <p>OAuth scopes to request. Cannot be specified with role. If neither role nor scopes are specified, the provider-specific default role will be used. You are solely responsible for ensuring the scopes are valid options for the provider being created or updated.</p>
     */
    _FinalStage scopes(Optional<String> scopes);

    _FinalStage scopes(String scopes);
  }

  @JsonIgnoreProperties(
      ignoreUnknown = true
  )
  public static final class Builder implements AuthMethodStage, _FinalStage {
    private AuthMethod authMethod;

    private Optional<String> scopes = Optional.empty();

    private Optional<Role> role = Optional.empty();

    private Optional<OffsetDateTime> credentialExpiry = Optional.empty();

    private Optional<ServiceAccountKey> serviceAccountKey = Optional.empty();

    private Optional<String> clientSecret = Optional.empty();

    @JsonAnySetter
    private Map<String, Object> additionalProperties = new HashMap<>();

    private Builder() {
    }

    @java.lang.Override
    public Builder from(FhirProviderAddAuthConfigRequest other) {
      authMethod(other.getAuthMethod());
      clientSecret(other.getClientSecret());
      serviceAccountKey(other.getServiceAccountKey());
      credentialExpiry(other.getCredentialExpiry());
      role(other.getRole());
      scopes(other.getScopes());
      return this;
    }

    @java.lang.Override
    @JsonSetter("auth_method")
    public _FinalStage authMethod(@NotNull AuthMethod authMethod) {
      this.authMethod = Objects.requireNonNull(authMethod, "authMethod must not be null");
      return this;
    }

    /**
     * <p>OAuth scopes to request. Cannot be specified with role. If neither role nor scopes are specified, the provider-specific default role will be used. You are solely responsible for ensuring the scopes are valid options for the provider being created or updated.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage scopes(String scopes) {
      this.scopes = Optional.ofNullable(scopes);
      return this;
    }

    /**
     * <p>OAuth scopes to request. Cannot be specified with role. If neither role nor scopes are specified, the provider-specific default role will be used. You are solely responsible for ensuring the scopes are valid options for the provider being created or updated.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "scopes",
        nulls = Nulls.SKIP
    )
    public _FinalStage scopes(Optional<String> scopes) {
      this.scopes = scopes;
      return this;
    }

    @java.lang.Override
    public _FinalStage role(Role role) {
      this.role = Optional.ofNullable(role);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "role",
        nulls = Nulls.SKIP
    )
    public _FinalStage role(Optional<Role> role) {
      this.role = role;
      return this;
    }

    /**
     * <p>Expiry time for JWT credentials (only applicable for JWT auth method)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage credentialExpiry(OffsetDateTime credentialExpiry) {
      this.credentialExpiry = Optional.ofNullable(credentialExpiry);
      return this;
    }

    /**
     * <p>Expiry time for JWT credentials (only applicable for JWT auth method)</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "credential_expiry",
        nulls = Nulls.SKIP
    )
    public _FinalStage credentialExpiry(Optional<OffsetDateTime> credentialExpiry) {
      this.credentialExpiry = credentialExpiry;
      return this;
    }

    @java.lang.Override
    public _FinalStage serviceAccountKey(ServiceAccountKey serviceAccountKey) {
      this.serviceAccountKey = Optional.ofNullable(serviceAccountKey);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "service_account_key",
        nulls = Nulls.SKIP
    )
    public _FinalStage serviceAccountKey(Optional<ServiceAccountKey> serviceAccountKey) {
      this.serviceAccountKey = serviceAccountKey;
      return this;
    }

    /**
     * <p>OAuth client secret (required for client_secret and on_behalf_of auth methods)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage clientSecret(String clientSecret) {
      this.clientSecret = Optional.ofNullable(clientSecret);
      return this;
    }

    /**
     * <p>OAuth client secret (required for client_secret and on_behalf_of auth methods)</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "client_secret",
        nulls = Nulls.SKIP
    )
    public _FinalStage clientSecret(Optional<String> clientSecret) {
      this.clientSecret = clientSecret;
      return this;
    }

    @java.lang.Override
    public FhirProviderAddAuthConfigRequest build() {
      return new FhirProviderAddAuthConfigRequest(authMethod, clientSecret, serviceAccountKey, credentialExpiry, role, scopes, additionalProperties);
    }
  }
}
