/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.phenoml.api.resources.construe.requests;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.phenoml.api.core.ObjectMappers;
import com.phenoml.api.resources.construe.types.CodeResponse;
import com.phenoml.api.resources.construe.types.UploadRequestFormat;
import java.lang.Boolean;
import java.lang.Double;
import java.lang.Object;
import java.lang.String;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(
    builder = UploadRequest.Builder.class
)
public final class UploadRequest {
  private final String name;

  private final String version;

  private final Optional<Double> revision;

  private final UploadRequestFormat format;

  private final Optional<String> file;

  private final Optional<String> codeCol;

  private final Optional<String> descCol;

  private final Optional<String> defnCol;

  private final Optional<List<CodeResponse>> codes;

  private final Optional<Boolean> replace;

  private final Optional<Boolean> async;

  private final Map<String, Object> additionalProperties;

  private UploadRequest(String name, String version, Optional<Double> revision,
      UploadRequestFormat format, Optional<String> file, Optional<String> codeCol,
      Optional<String> descCol, Optional<String> defnCol, Optional<List<CodeResponse>> codes,
      Optional<Boolean> replace, Optional<Boolean> async,
      Map<String, Object> additionalProperties) {
    this.name = name;
    this.version = version;
    this.revision = revision;
    this.format = format;
    this.file = file;
    this.codeCol = codeCol;
    this.descCol = descCol;
    this.defnCol = defnCol;
    this.codes = codes;
    this.replace = replace;
    this.async = async;
    this.additionalProperties = additionalProperties;
  }

  /**
   * @return Name of the code system. Names are case-insensitive and stored uppercase.
   * Builtin system names (e.g. ICD-10-CM, SNOMED_CT_US_LITE, LOINC, CPT, etc.) are
   * reserved and cannot be used for custom uploads; attempts return HTTP 403 Forbidden.
   */
  @JsonProperty("name")
  public String getName() {
    return name;
  }

  /**
   * @return Version of the code system
   */
  @JsonProperty("version")
  public String getVersion() {
    return version;
  }

  /**
   * @return Optional revision number
   */
  @JsonProperty("revision")
  public Optional<Double> getRevision() {
    return revision;
  }

  /**
   * @return Upload format
   */
  @JsonProperty("format")
  public UploadRequestFormat getFormat() {
    return format;
  }

  /**
   * @return The file contents as a base64-encoded string.
   * For CSV format, this is the CSV file contents.
   * For JSON format, this is a base64-encoded JSON array; prefer using 'codes' instead.
   */
  @JsonProperty("file")
  public Optional<String> getFile() {
    return file;
  }

  /**
   * @return Column name containing codes (required for CSV format)
   */
  @JsonProperty("code_col")
  public Optional<String> getCodeCol() {
    return codeCol;
  }

  /**
   * @return Column name containing descriptions (required for CSV format)
   */
  @JsonProperty("desc_col")
  public Optional<String> getDescCol() {
    return descCol;
  }

  /**
   * @return Optional column name containing long definitions (for CSV format)
   */
  @JsonProperty("defn_col")
  public Optional<String> getDefnCol() {
    return defnCol;
  }

  /**
   * @return The codes to upload as a JSON array (JSON format only).
   * This is the preferred way to upload JSON codes, as it avoids unnecessary base64 encoding.
   * If both 'codes' and 'file' are provided, 'codes' takes precedence.
   */
  @JsonProperty("codes")
  public Optional<List<CodeResponse>> getCodes() {
    return codes;
  }

  /**
   * @return If true, replaces an existing code system with the same name and version.
   * Builtin systems cannot be replaced; attempts to do so return HTTP 403 Forbidden.
   * When false (default), uploading a duplicate returns 409 Conflict.
   */
  @JsonProperty("replace")
  public Optional<Boolean> getReplace() {
    return replace;
  }

  /**
   * @return If true, returns 202 Accepted immediately after validation and starts processing
   * in the background. Poll GET /construe/codes/systems/{name}?version={version} to
   * check when status transitions from &quot;processing&quot; to &quot;ready&quot; or &quot;failed&quot;.
   */
  @JsonProperty("async")
  public Optional<Boolean> getAsync() {
    return async;
  }

  @java.lang.Override
  public boolean equals(Object other) {
    if (this == other) return true;
    return other instanceof UploadRequest && equalTo((UploadRequest) other);
  }

  @JsonAnyGetter
  public Map<String, Object> getAdditionalProperties() {
    return this.additionalProperties;
  }

  private boolean equalTo(UploadRequest other) {
    return name.equals(other.name) && version.equals(other.version) && revision.equals(other.revision) && format.equals(other.format) && file.equals(other.file) && codeCol.equals(other.codeCol) && descCol.equals(other.descCol) && defnCol.equals(other.defnCol) && codes.equals(other.codes) && replace.equals(other.replace) && async.equals(other.async);
  }

  @java.lang.Override
  public int hashCode() {
    return Objects.hash(this.name, this.version, this.revision, this.format, this.file, this.codeCol, this.descCol, this.defnCol, this.codes, this.replace, this.async);
  }

  @java.lang.Override
  public String toString() {
    return ObjectMappers.stringify(this);
  }

  public static NameStage builder() {
    return new Builder();
  }

  public interface NameStage {
    /**
     * <p>Name of the code system. Names are case-insensitive and stored uppercase.
     * Builtin system names (e.g. ICD-10-CM, SNOMED_CT_US_LITE, LOINC, CPT, etc.) are
     * reserved and cannot be used for custom uploads; attempts return HTTP 403 Forbidden.</p>
     */
    VersionStage name(@NotNull String name);

    Builder from(UploadRequest other);
  }

  public interface VersionStage {
    /**
     * <p>Version of the code system</p>
     */
    FormatStage version(@NotNull String version);
  }

  public interface FormatStage {
    /**
     * <p>Upload format</p>
     */
    _FinalStage format(@NotNull UploadRequestFormat format);
  }

  public interface _FinalStage {
    UploadRequest build();

    /**
     * <p>Optional revision number</p>
     */
    _FinalStage revision(Optional<Double> revision);

    _FinalStage revision(Double revision);

    /**
     * <p>The file contents as a base64-encoded string.
     * For CSV format, this is the CSV file contents.
     * For JSON format, this is a base64-encoded JSON array; prefer using 'codes' instead.</p>
     */
    _FinalStage file(Optional<String> file);

    _FinalStage file(String file);

    /**
     * <p>Column name containing codes (required for CSV format)</p>
     */
    _FinalStage codeCol(Optional<String> codeCol);

    _FinalStage codeCol(String codeCol);

    /**
     * <p>Column name containing descriptions (required for CSV format)</p>
     */
    _FinalStage descCol(Optional<String> descCol);

    _FinalStage descCol(String descCol);

    /**
     * <p>Optional column name containing long definitions (for CSV format)</p>
     */
    _FinalStage defnCol(Optional<String> defnCol);

    _FinalStage defnCol(String defnCol);

    /**
     * <p>The codes to upload as a JSON array (JSON format only).
     * This is the preferred way to upload JSON codes, as it avoids unnecessary base64 encoding.
     * If both 'codes' and 'file' are provided, 'codes' takes precedence.</p>
     */
    _FinalStage codes(Optional<List<CodeResponse>> codes);

    _FinalStage codes(List<CodeResponse> codes);

    /**
     * <p>If true, replaces an existing code system with the same name and version.
     * Builtin systems cannot be replaced; attempts to do so return HTTP 403 Forbidden.
     * When false (default), uploading a duplicate returns 409 Conflict.</p>
     */
    _FinalStage replace(Optional<Boolean> replace);

    _FinalStage replace(Boolean replace);

    /**
     * <p>If true, returns 202 Accepted immediately after validation and starts processing
     * in the background. Poll GET /construe/codes/systems/{name}?version={version} to
     * check when status transitions from &quot;processing&quot; to &quot;ready&quot; or &quot;failed&quot;.</p>
     */
    _FinalStage async(Optional<Boolean> async);

    _FinalStage async(Boolean async);
  }

  @JsonIgnoreProperties(
      ignoreUnknown = true
  )
  public static final class Builder implements NameStage, VersionStage, FormatStage, _FinalStage {
    private String name;

    private String version;

    private UploadRequestFormat format;

    private Optional<Boolean> async = Optional.empty();

    private Optional<Boolean> replace = Optional.empty();

    private Optional<List<CodeResponse>> codes = Optional.empty();

    private Optional<String> defnCol = Optional.empty();

    private Optional<String> descCol = Optional.empty();

    private Optional<String> codeCol = Optional.empty();

    private Optional<String> file = Optional.empty();

    private Optional<Double> revision = Optional.empty();

    @JsonAnySetter
    private Map<String, Object> additionalProperties = new HashMap<>();

    private Builder() {
    }

    @java.lang.Override
    public Builder from(UploadRequest other) {
      name(other.getName());
      version(other.getVersion());
      revision(other.getRevision());
      format(other.getFormat());
      file(other.getFile());
      codeCol(other.getCodeCol());
      descCol(other.getDescCol());
      defnCol(other.getDefnCol());
      codes(other.getCodes());
      replace(other.getReplace());
      async(other.getAsync());
      return this;
    }

    /**
     * <p>Name of the code system. Names are case-insensitive and stored uppercase.
     * Builtin system names (e.g. ICD-10-CM, SNOMED_CT_US_LITE, LOINC, CPT, etc.) are
     * reserved and cannot be used for custom uploads; attempts return HTTP 403 Forbidden.</p>
     * <p>Name of the code system. Names are case-insensitive and stored uppercase.
     * Builtin system names (e.g. ICD-10-CM, SNOMED_CT_US_LITE, LOINC, CPT, etc.) are
     * reserved and cannot be used for custom uploads; attempts return HTTP 403 Forbidden.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("name")
    public VersionStage name(@NotNull String name) {
      this.name = Objects.requireNonNull(name, "name must not be null");
      return this;
    }

    /**
     * <p>Version of the code system</p>
     * <p>Version of the code system</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("version")
    public FormatStage version(@NotNull String version) {
      this.version = Objects.requireNonNull(version, "version must not be null");
      return this;
    }

    /**
     * <p>Upload format</p>
     * <p>Upload format</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("format")
    public _FinalStage format(@NotNull UploadRequestFormat format) {
      this.format = Objects.requireNonNull(format, "format must not be null");
      return this;
    }

    /**
     * <p>If true, returns 202 Accepted immediately after validation and starts processing
     * in the background. Poll GET /construe/codes/systems/{name}?version={version} to
     * check when status transitions from &quot;processing&quot; to &quot;ready&quot; or &quot;failed&quot;.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage async(Boolean async) {
      this.async = Optional.ofNullable(async);
      return this;
    }

    /**
     * <p>If true, returns 202 Accepted immediately after validation and starts processing
     * in the background. Poll GET /construe/codes/systems/{name}?version={version} to
     * check when status transitions from &quot;processing&quot; to &quot;ready&quot; or &quot;failed&quot;.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "async",
        nulls = Nulls.SKIP
    )
    public _FinalStage async(Optional<Boolean> async) {
      this.async = async;
      return this;
    }

    /**
     * <p>If true, replaces an existing code system with the same name and version.
     * Builtin systems cannot be replaced; attempts to do so return HTTP 403 Forbidden.
     * When false (default), uploading a duplicate returns 409 Conflict.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage replace(Boolean replace) {
      this.replace = Optional.ofNullable(replace);
      return this;
    }

    /**
     * <p>If true, replaces an existing code system with the same name and version.
     * Builtin systems cannot be replaced; attempts to do so return HTTP 403 Forbidden.
     * When false (default), uploading a duplicate returns 409 Conflict.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "replace",
        nulls = Nulls.SKIP
    )
    public _FinalStage replace(Optional<Boolean> replace) {
      this.replace = replace;
      return this;
    }

    /**
     * <p>The codes to upload as a JSON array (JSON format only).
     * This is the preferred way to upload JSON codes, as it avoids unnecessary base64 encoding.
     * If both 'codes' and 'file' are provided, 'codes' takes precedence.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage codes(List<CodeResponse> codes) {
      this.codes = Optional.ofNullable(codes);
      return this;
    }

    /**
     * <p>The codes to upload as a JSON array (JSON format only).
     * This is the preferred way to upload JSON codes, as it avoids unnecessary base64 encoding.
     * If both 'codes' and 'file' are provided, 'codes' takes precedence.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "codes",
        nulls = Nulls.SKIP
    )
    public _FinalStage codes(Optional<List<CodeResponse>> codes) {
      this.codes = codes;
      return this;
    }

    /**
     * <p>Optional column name containing long definitions (for CSV format)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage defnCol(String defnCol) {
      this.defnCol = Optional.ofNullable(defnCol);
      return this;
    }

    /**
     * <p>Optional column name containing long definitions (for CSV format)</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "defn_col",
        nulls = Nulls.SKIP
    )
    public _FinalStage defnCol(Optional<String> defnCol) {
      this.defnCol = defnCol;
      return this;
    }

    /**
     * <p>Column name containing descriptions (required for CSV format)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage descCol(String descCol) {
      this.descCol = Optional.ofNullable(descCol);
      return this;
    }

    /**
     * <p>Column name containing descriptions (required for CSV format)</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "desc_col",
        nulls = Nulls.SKIP
    )
    public _FinalStage descCol(Optional<String> descCol) {
      this.descCol = descCol;
      return this;
    }

    /**
     * <p>Column name containing codes (required for CSV format)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage codeCol(String codeCol) {
      this.codeCol = Optional.ofNullable(codeCol);
      return this;
    }

    /**
     * <p>Column name containing codes (required for CSV format)</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "code_col",
        nulls = Nulls.SKIP
    )
    public _FinalStage codeCol(Optional<String> codeCol) {
      this.codeCol = codeCol;
      return this;
    }

    /**
     * <p>The file contents as a base64-encoded string.
     * For CSV format, this is the CSV file contents.
     * For JSON format, this is a base64-encoded JSON array; prefer using 'codes' instead.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage file(String file) {
      this.file = Optional.ofNullable(file);
      return this;
    }

    /**
     * <p>The file contents as a base64-encoded string.
     * For CSV format, this is the CSV file contents.
     * For JSON format, this is a base64-encoded JSON array; prefer using 'codes' instead.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "file",
        nulls = Nulls.SKIP
    )
    public _FinalStage file(Optional<String> file) {
      this.file = file;
      return this;
    }

    /**
     * <p>Optional revision number</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage revision(Double revision) {
      this.revision = Optional.ofNullable(revision);
      return this;
    }

    /**
     * <p>Optional revision number</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "revision",
        nulls = Nulls.SKIP
    )
    public _FinalStage revision(Optional<Double> revision) {
      this.revision = revision;
      return this;
    }

    @java.lang.Override
    public UploadRequest build() {
      return new UploadRequest(name, version, revision, format, file, codeCol, descCol, defnCol, codes, replace, async, additionalProperties);
    }
  }
}
