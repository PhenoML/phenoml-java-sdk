/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.phenoml.api.resources.fhir;

import com.phenoml.api.core.ClientOptions;
import com.phenoml.api.core.RequestOptions;
import com.phenoml.api.resources.fhir.requests.FhirCreateRequest;
import com.phenoml.api.resources.fhir.requests.FhirDeleteRequest;
import com.phenoml.api.resources.fhir.requests.FhirExecuteBundleRequest;
import com.phenoml.api.resources.fhir.requests.FhirPatchRequest;
import com.phenoml.api.resources.fhir.requests.FhirSearchRequest;
import com.phenoml.api.resources.fhir.requests.FhirUpsertRequest;
import com.phenoml.api.resources.fhir.types.FhirBundle;
import com.phenoml.api.resources.fhir.types.FhirPatchRequestBodyItem;
import com.phenoml.api.resources.fhir.types.FhirResource;
import com.phenoml.api.resources.fhir.types.FhirSearchResponse;
import java.util.List;
import java.util.Map;
import java.util.concurrent.CompletableFuture;

public class AsyncFhirClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawFhirClient rawClient;

    public AsyncFhirClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawFhirClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawFhirClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieves FHIR resources from the specified provider. Supports both individual resource retrieval and search operations based on the FHIR path and query parameters.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirSearchResponse> search(String fhirProviderId, String fhirPath) {
        return this.rawClient.search(fhirProviderId, fhirPath).thenApply(response -> response.body());
    }

    /**
     * Retrieves FHIR resources from the specified provider. Supports both individual resource retrieval and search operations based on the FHIR path and query parameters.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirSearchResponse> search(
            String fhirProviderId, String fhirPath, RequestOptions requestOptions) {
        return this.rawClient.search(fhirProviderId, fhirPath, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves FHIR resources from the specified provider. Supports both individual resource retrieval and search operations based on the FHIR path and query parameters.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirSearchResponse> search(
            String fhirProviderId, String fhirPath, FhirSearchRequest request) {
        return this.rawClient.search(fhirProviderId, fhirPath, request).thenApply(response -> response.body());
    }

    /**
     * Retrieves FHIR resources from the specified provider. Supports both individual resource retrieval and search operations based on the FHIR path and query parameters.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirSearchResponse> search(
            String fhirProviderId, String fhirPath, FhirSearchRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .search(fhirProviderId, fhirPath, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Creates a new FHIR resource on the specified provider. The request body should contain a valid FHIR resource in JSON format.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> create(String fhirProviderId, String fhirPath, FhirResource body) {
        return this.rawClient.create(fhirProviderId, fhirPath, body).thenApply(response -> response.body());
    }

    /**
     * Creates a new FHIR resource on the specified provider. The request body should contain a valid FHIR resource in JSON format.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> create(
            String fhirProviderId, String fhirPath, FhirResource body, RequestOptions requestOptions) {
        return this.rawClient
                .create(fhirProviderId, fhirPath, body, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Creates a new FHIR resource on the specified provider. The request body should contain a valid FHIR resource in JSON format.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> create(String fhirProviderId, String fhirPath, FhirCreateRequest request) {
        return this.rawClient.create(fhirProviderId, fhirPath, request).thenApply(response -> response.body());
    }

    /**
     * Creates a new FHIR resource on the specified provider. The request body should contain a valid FHIR resource in JSON format.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> create(
            String fhirProviderId, String fhirPath, FhirCreateRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .create(fhirProviderId, fhirPath, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Creates or updates a FHIR resource on the specified provider. If the resource exists, it will be updated; otherwise, it will be created.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> upsert(String fhirProviderId, String fhirPath, FhirResource body) {
        return this.rawClient.upsert(fhirProviderId, fhirPath, body).thenApply(response -> response.body());
    }

    /**
     * Creates or updates a FHIR resource on the specified provider. If the resource exists, it will be updated; otherwise, it will be created.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> upsert(
            String fhirProviderId, String fhirPath, FhirResource body, RequestOptions requestOptions) {
        return this.rawClient
                .upsert(fhirProviderId, fhirPath, body, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Creates or updates a FHIR resource on the specified provider. If the resource exists, it will be updated; otherwise, it will be created.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> upsert(String fhirProviderId, String fhirPath, FhirUpsertRequest request) {
        return this.rawClient.upsert(fhirProviderId, fhirPath, request).thenApply(response -> response.body());
    }

    /**
     * Creates or updates a FHIR resource on the specified provider. If the resource exists, it will be updated; otherwise, it will be created.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> upsert(
            String fhirProviderId, String fhirPath, FhirUpsertRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .upsert(fhirProviderId, fhirPath, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Deletes a FHIR resource from the specified provider.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<Map<String, Object>> delete(String fhirProviderId, String fhirPath) {
        return this.rawClient.delete(fhirProviderId, fhirPath).thenApply(response -> response.body());
    }

    /**
     * Deletes a FHIR resource from the specified provider.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<Map<String, Object>> delete(
            String fhirProviderId, String fhirPath, RequestOptions requestOptions) {
        return this.rawClient.delete(fhirProviderId, fhirPath, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Deletes a FHIR resource from the specified provider.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<Map<String, Object>> delete(
            String fhirProviderId, String fhirPath, FhirDeleteRequest request) {
        return this.rawClient.delete(fhirProviderId, fhirPath, request).thenApply(response -> response.body());
    }

    /**
     * Deletes a FHIR resource from the specified provider.
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<Map<String, Object>> delete(
            String fhirProviderId, String fhirPath, FhirDeleteRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .delete(fhirProviderId, fhirPath, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Partially updates a FHIR resource on the specified provider using JSON Patch operations as defined in RFC 6902.
     * <p>The request body should contain an array of JSON Patch operations. Each operation specifies:</p>
     * <ul>
     * <li><code>op</code>: The operation type (add, remove, replace, move, copy, test)</li>
     * <li><code>path</code>: JSON Pointer to the target location in the resource</li>
     * <li><code>value</code>: The value to use (required for add, replace, and test operations)</li>
     * </ul>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> patch(
            String fhirProviderId, String fhirPath, List<FhirPatchRequestBodyItem> body) {
        return this.rawClient.patch(fhirProviderId, fhirPath, body).thenApply(response -> response.body());
    }

    /**
     * Partially updates a FHIR resource on the specified provider using JSON Patch operations as defined in RFC 6902.
     * <p>The request body should contain an array of JSON Patch operations. Each operation specifies:</p>
     * <ul>
     * <li><code>op</code>: The operation type (add, remove, replace, move, copy, test)</li>
     * <li><code>path</code>: JSON Pointer to the target location in the resource</li>
     * <li><code>value</code>: The value to use (required for add, replace, and test operations)</li>
     * </ul>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> patch(
            String fhirProviderId,
            String fhirPath,
            List<FhirPatchRequestBodyItem> body,
            RequestOptions requestOptions) {
        return this.rawClient
                .patch(fhirProviderId, fhirPath, body, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Partially updates a FHIR resource on the specified provider using JSON Patch operations as defined in RFC 6902.
     * <p>The request body should contain an array of JSON Patch operations. Each operation specifies:</p>
     * <ul>
     * <li><code>op</code>: The operation type (add, remove, replace, move, copy, test)</li>
     * <li><code>path</code>: JSON Pointer to the target location in the resource</li>
     * <li><code>value</code>: The value to use (required for add, replace, and test operations)</li>
     * </ul>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> patch(String fhirProviderId, String fhirPath, FhirPatchRequest request) {
        return this.rawClient.patch(fhirProviderId, fhirPath, request).thenApply(response -> response.body());
    }

    /**
     * Partially updates a FHIR resource on the specified provider using JSON Patch operations as defined in RFC 6902.
     * <p>The request body should contain an array of JSON Patch operations. Each operation specifies:</p>
     * <ul>
     * <li><code>op</code>: The operation type (add, remove, replace, move, copy, test)</li>
     * <li><code>path</code>: JSON Pointer to the target location in the resource</li>
     * <li><code>value</code>: The value to use (required for add, replace, and test operations)</li>
     * </ul>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirResource> patch(
            String fhirProviderId, String fhirPath, FhirPatchRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .patch(fhirProviderId, fhirPath, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Executes a FHIR Bundle transaction or batch operation on the specified provider. This allows multiple FHIR resources to be processed in a single request.
     * <p>The request body should contain a valid FHIR Bundle resource with transaction or batch type.</p>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirBundle> executeBundle(String fhirProviderId, FhirBundle body) {
        return this.rawClient.executeBundle(fhirProviderId, body).thenApply(response -> response.body());
    }

    /**
     * Executes a FHIR Bundle transaction or batch operation on the specified provider. This allows multiple FHIR resources to be processed in a single request.
     * <p>The request body should contain a valid FHIR Bundle resource with transaction or batch type.</p>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirBundle> executeBundle(
            String fhirProviderId, FhirBundle body, RequestOptions requestOptions) {
        return this.rawClient
                .executeBundle(fhirProviderId, body, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Executes a FHIR Bundle transaction or batch operation on the specified provider. This allows multiple FHIR resources to be processed in a single request.
     * <p>The request body should contain a valid FHIR Bundle resource with transaction or batch type.</p>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirBundle> executeBundle(String fhirProviderId, FhirExecuteBundleRequest request) {
        return this.rawClient.executeBundle(fhirProviderId, request).thenApply(response -> response.body());
    }

    /**
     * Executes a FHIR Bundle transaction or batch operation on the specified provider. This allows multiple FHIR resources to be processed in a single request.
     * <p>The request body should contain a valid FHIR Bundle resource with transaction or batch type.</p>
     * <p>The request is proxied to the configured FHIR server with appropriate authentication headers.</p>
     */
    public CompletableFuture<FhirBundle> executeBundle(
            String fhirProviderId, FhirExecuteBundleRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .executeBundle(fhirProviderId, request, requestOptions)
                .thenApply(response -> response.body());
    }
}
